{"ast":null,"code":"import _defineProperty from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abhinav/Desktop/itilapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{Navbar,Nav,Form,Button}from'react-bootstrap';import{logoutUser}from\"../actions/authActions\";import{getTickets}from'../actions/ticketActions';import{withRouter}from'react-router-dom';var Navigation=/*#__PURE__*/function(_Component){_inherits(Navigation,_Component);function Navigation(){var _getPrototypeOf2;var _this;_classCallCheck(this,Navigation);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Navigation)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={term:''};_this.myTickets=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();user=_this.props.auth.user.name;_context.next=4;return _this.props.history.push('/mytickets');case 4:_this.props.getTickets('',user);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return _this.props.history.push('/tickets');case 3:_this.props.getTickets(_this.state.term,'');case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Navigation,[{key:\"render\",value:function render(){var isAuthenticated=this.props.auth.isAuthenticated;return React.createElement(Navbar,{bg:\"light\",expand:\"lg\"},React.createElement(Navbar.Brand,{href:\"/\"},\"ITIL App\"),React.createElement(Navbar.Toggle,{className:isAuthenticated===true?'':'d-none',\"aria-controls\":\"basic-navbar-nav\"}),React.createElement(Navbar.Collapse,{id:\"basic-navbar-nav\"},React.createElement(Nav,{className:\"mr-auto\"},React.createElement(Form,{className:isAuthenticated===true?'':'d-none',onSubmit:this.onSubmit,inline:true},React.createElement(Form.Control,{id:\"term\",onChange:this.onChange,type:\"text\",placeholder:\"Search\",className:\"mr-sm-2\"}),React.createElement(Button,{type:\"submit\",variant:\"outline-success\"},\"Search\")),React.createElement(Nav.Link,{className:isAuthenticated===true?'':'d-none',href:\"/tickets\"},\"Home\"),React.createElement(Nav.Link,{className:isAuthenticated===true?'':'d-none',href:\"/new\"},\"New Ticket\"),React.createElement(Nav.Link,{className:isAuthenticated===true?'':'d-none',onClick:this.myTickets},\"My Tickets\"),React.createElement(Nav.Link,{className:isAuthenticated===true?'':'d-none',onClick:this.onLogoutClick},\"Logout\"))));}}]);return Navigation;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{logoutUser:logoutUser,getTickets:getTickets})(withRouter(Navigation));","map":{"version":3,"sources":["/Users/abhinav/Desktop/itilapp/client/src/components/navbar.js"],"names":["React","Component","connect","Navbar","Nav","Form","Button","logoutUser","getTickets","withRouter","Navigation","state","term","myTickets","e","preventDefault","user","props","auth","name","history","push","onLogoutClick","onChange","setState","target","id","value","onSubmit","isAuthenticated","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Navbar, Nav, Form, Button } from 'react-bootstrap';\nimport { logoutUser } from \"../actions/authActions\";\nimport { getTickets } from '../actions/ticketActions';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nclass Navigation extends Component {\n\n    state = {\n        term: '',\n    }\n\n    myTickets = async (e) => {\n        e.preventDefault();\n        const user = this.props.auth.user.name\n        await this.props.history.push('/mytickets');\n        this.props.getTickets('', user);\n    }\n\n    onLogoutClick = e => {\n        e.preventDefault();\n        this.props.logoutUser();\n    };\n\n    onChange = (e) => {\n        this.setState({ [e.target.id] : e.target.value })\n    }\n\n    onSubmit = async (e) => { \n        e.preventDefault();\n        await this.props.history.push('/tickets');\n        this.props.getTickets(this.state.term, '')\n    }\n\n    render() {\n        const { isAuthenticated } = this.props.auth;\n        return (\n            <Navbar bg='light' expand='lg'>\n                <Navbar.Brand href='/'>ITIL App</Navbar.Brand>\n                <Navbar.Toggle className={ isAuthenticated === true ? '' : 'd-none' } aria-controls='basic-navbar-nav' />\n                <Navbar.Collapse id='basic-navbar-nav'>\n                    <Nav className='mr-auto'>\n                    <Form className={ isAuthenticated === true ? '' : 'd-none' } onSubmit={this.onSubmit} inline>\n                    <Form.Control id='term' onChange={this.onChange} type=\"text\" placeholder=\"Search\" className='mr-sm-2' />\n                    <Button type='submit' variant='outline-success'>Search</Button>\n                    </Form>\n                    <Nav.Link className={ isAuthenticated === true ? '' : 'd-none' } href='/tickets'>Home</Nav.Link>\n                    <Nav.Link className={ isAuthenticated === true ? '' : 'd-none' } href='/new'>New Ticket</Nav.Link>\n                    <Nav.Link className={ isAuthenticated === true ? '' : 'd-none' } onClick={this.myTickets}>My Tickets</Nav.Link>\n                    <Nav.Link className={ isAuthenticated === true ? '' : 'd-none' } onClick={this.onLogoutClick}>Logout</Nav.Link>\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        )\n    }\n}\n\nNavigation.propTypes = {\n    auth: PropTypes.object.isRequired,\n    logoutUser: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, { logoutUser, getTickets })(withRouter(Navigation))\n"]},"metadata":{},"sourceType":"module"}